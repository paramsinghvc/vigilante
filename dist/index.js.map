{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import { useRef, useEffect } from 'react'\n\nconst componentNameStyle = `color: #9c88ff`\nconst keyNameStyle = `color: #fd79a8; font-weight: bold`\nconst prevValStyle = `color: #F79F1F; font-weight: bold`\nconst newValStyle = `color: #38ada9; font-weight: bold`\n\nfunction logVariable(keyName: string, prevVal: any, newVal: any) {\n  console.group(`%c${keyName}`, keyNameStyle)\n  console.info('%cPrevious Value:', prevValStyle, prevVal)\n  console.info('%cNew Value: ', newValStyle, newVal)\n  console.groupEnd()\n}\n\ntype ChangedVariables = {\n  [keyName: string]: {\n    prevVal: any\n    newVal: any\n  }\n}\n\nfunction logComponentGroup(componentName: string, changedVariables: ChangedVariables) {\n  console.group(`%c${componentName}`, componentNameStyle)\n  Object.entries(changedVariables).forEach(([key, { prevVal, newVal }]) => {\n    logVariable(key, prevVal, newVal)\n  })\n  console.groupEnd()\n}\n\nexport default function useVigilante(componentName: string, variables: Record<string, any>) {\n  const variablesRef = useRef<Record<string, any>>(variables)\n\n  useEffect(() => {\n    const prevVariablesRef = variablesRef.current\n    const changedVariables = Object.keys(variables).reduce((acc, key) => {\n      const prevVal = prevVariablesRef[key]\n      const newVal = variables[key]\n\n      if (!Object.is(prevVal, newVal)) {\n        acc[key] = { prevVal, newVal }\n        prevVariablesRef[key] = newVal\n      }\n      return acc\n    }, {} as ChangedVariables)\n    logComponentGroup(componentName, changedVariables)\n  }, [...Object.values(variables)])\n}\n"],"names":["componentNameStyle","keyNameStyle","prevValStyle","newValStyle","logVariable","keyName","prevVal","newVal","console","group","info","groupEnd","logComponentGroup","componentName","changedVariables","Object","entries","forEach","key","useVigilante","variables","variablesRef","useRef","useEffect","prevVariablesRef","current","keys","reduce","acc","is","values"],"mappings":";;AAEA,IAAMA,kBAAkB,mBAAxB;AACA,IAAMC,YAAY,sCAAlB;AACA,IAAMC,YAAY,sCAAlB;AACA,IAAMC,WAAW,sCAAjB;;AAEA,SAASC,WAAT,CAAqBC,OAArB,EAAsCC,OAAtC,EAAoDC,MAApD;AACEC,EAAAA,OAAO,CAACC,KAAR,QAAmBJ,OAAnB,EAA8BJ,YAA9B;AACAO,EAAAA,OAAO,CAACE,IAAR,CAAa,mBAAb,EAAkCR,YAAlC,EAAgDI,OAAhD;AACAE,EAAAA,OAAO,CAACE,IAAR,CAAa,eAAb,EAA8BP,WAA9B,EAA2CI,MAA3C;AACAC,EAAAA,OAAO,CAACG,QAAR;AACD;;AASD,SAASC,iBAAT,CAA2BC,aAA3B,EAAkDC,gBAAlD;AACEN,EAAAA,OAAO,CAACC,KAAR,QAAmBI,aAAnB,EAAoCb,kBAApC;AACAe,EAAAA,MAAM,CAACC,OAAP,CAAeF,gBAAf,EAAiCG,OAAjC,CAAyC;QAAEC;;QAAOZ,gBAAAA;QAASC,eAAAA;AACzDH,IAAAA,WAAW,CAACc,GAAD,EAAMZ,OAAN,EAAeC,MAAf,CAAX;AACD,GAFD;AAGAC,EAAAA,OAAO,CAACG,QAAR;AACD;;SAEuBQ,aAAaN,eAAuBO;AAC1D,MAAMC,YAAY,GAAGC,YAAM,CAAsBF,SAAtB,CAA3B;AAEAG,EAAAA,eAAS,CAAC;AACR,QAAMC,gBAAgB,GAAGH,YAAY,CAACI,OAAtC;AACA,QAAMX,gBAAgB,GAAGC,MAAM,CAACW,IAAP,CAAYN,SAAZ,EAAuBO,MAAvB,CAA8B,UAACC,GAAD,EAAMV,GAAN;AACrD,UAAMZ,OAAO,GAAGkB,gBAAgB,CAACN,GAAD,CAAhC;AACA,UAAMX,MAAM,GAAGa,SAAS,CAACF,GAAD,CAAxB;;AAEA,UAAI,CAACH,MAAM,CAACc,EAAP,CAAUvB,OAAV,EAAmBC,MAAnB,CAAL,EAAiC;AAC/BqB,QAAAA,GAAG,CAACV,GAAD,CAAH,GAAW;AAAEZ,UAAAA,OAAO,EAAPA,OAAF;AAAWC,UAAAA,MAAM,EAANA;AAAX,SAAX;AACAiB,QAAAA,gBAAgB,CAACN,GAAD,CAAhB,GAAwBX,MAAxB;AACD;;AACD,aAAOqB,GAAP;AACD,KATwB,EAStB,EATsB,CAAzB;AAUAhB,IAAAA,iBAAiB,CAACC,aAAD,EAAgBC,gBAAhB,CAAjB;AACD,GAbQ,YAaFC,MAAM,CAACe,MAAP,CAAcV,SAAd,CAbE,EAAT;AAcD;;;;"}